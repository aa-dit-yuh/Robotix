{% extends "base_root.html" %}
{% load i18n static cms_tags menu_tags %}
{% load url from future %}

{% block body_class %}tpl-base{% endblock %}

{# no indent for better readability on extend_root #}
{% block extend_root %}
{% block header %}
  {# DOCS: http://getbootstrap.com/components/#navbar #}
  <header id="header">
    <nav class="main-navigation navbar-fixed-top navbar-inverse" role="navigation" data-spy="affix" data-offset-top="200">
      <div class="container">
        <div class="navbar-header">
          {# INFO: the logo should be placed first for seo reasons #}
          <a href="/" class="navbar-brand"><img src="{% static 'img/logo-main@print.png' %}" alt="Robotix"></a>
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <i class="fa fa-bars fa-lg"></i>
          </button>
        </div>

        <h2 class="sr-only">Shortcuts</h2>
        <ul class="skip-links">
          <li><a href="/" title="[Alt + 0]" accesskey="0">Go to home</a></li>
          <li><a href="#header" title="[Alt + 1]" accesskey="1">Jump to navigation</a></li>
          <li><a href="#content" title="[Alt + 2]" accesskey="2">Jump to content</a></li>
          <li><a href="#footer" title="[Alt + 3]" accesskey="3">Contact</a></li>
        </ul>

        {# start: Navigation Menu #}
        <div class="collapse navbar-collapse">
          {% block navbar %}
            {% render_model_block request.current_page "changelist" %}
              {% with dropdown="true" %}
                <ul class="nav navbar-nav navbar-right" id="main_navigation_menu">
                  {% show_menu 0 1 100 100 "includes/menu/navigation.html" %}
                  {% show_menu_below_id "meta" 0 0 100 100 "includes/menu/navigation.html" %}
                </ul>
              {% endwith %}
            {% endrender_model_block %}
          {% endblock navbar %}
        </div>
        {# end: Navigation Menu #}
      </div>
    </nav>
  </header>
{% endblock header %}

{# DOCS: http://getbootstrap.com/components/#breadcrumbs #}
{% block breadcrumb %}
  {% if not request.current_page.is_home %}
    <nav class="navbar navbar-breadcrumb" role="navigation">
      <h3 class="sr-only">{% trans "You are here" %}</h3>
      <div class="container">
        <ol class="breadcrumb">
          {% block extend_breadcrumb %}
            {% show_breadcrumb 0 "includes/menu/breadcrumb.html" %}
          {% endblock extend_breadcrumb %}
        </ol>
      </div>
    </nav>
  {% endif %}
{% endblock breadcrumb %}

{# start: content #}
<hr class="sr-only" id="page-content" />
{% block extend_base %}
  {% block feature %}{% placeholder "feature" %}{% endblock feature %}
  <div class="container">
    {% block messages %}
      {% include "includes/messages.html" %}
    {% endblock messages %}
    {% block content %}{% endblock %}
  </div>
{% endblock extend_base %}
<hr class="sr-only" />
{# end: content #}

{% block footer %}
  <footer class="footer" role="contentinfo">
    <h1 class="sr-only" id="page-footer">{% trans "Sitemap" %}</h1>

    <div class="container">
      {% static_placeholder "footer" %}
      {% render_model_block request.current_page "changelist" %}
        <ul class="list-inline">
          <li class="pull-right"><a href="#page-top" data-spy="scroll"><span class="fa fa-left fa-arrow-up"></span>{% trans "Back to top" %}</a></li>
          {% show_menu_below_id "footer" 0 0 100 100 "includes/menu/navigation.html" %}
        </ul>
      {% endrender_model_block %}
    </div>
  </footer>
{% endblock footer %}
{% endblock extend_root %}
